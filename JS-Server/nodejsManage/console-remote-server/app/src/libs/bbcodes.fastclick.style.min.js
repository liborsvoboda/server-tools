// Extendible BBCode Parser v1.0.0
// By Patrick Gillespie (patorjk@gmail.com)
// Website: http://patorjk.com/
var XBBCODE=function(){function h(e,t,n,r,o,a,f){f=f||[];n++;var l=new RegExp("(<bbcl="+n+" )("+s.join("|")+")([ =>])","gi"),c=new RegExp("(<bbcl="+n+" )("+s.join("|")+")([ =>])","i"),p=a.match(l)||[],d,v,m,g,y=i[e]||{};l.lastIndex=0;if(!p){a=""}for(m=0;m<p.length;m++){c.lastIndex=0;g=p[m].match(c)[2].toLowerCase();if(y.restrictChildrenTo.length>0){if(!y.validChildLookup[g]){v='The tag "'+g+'" is not allowed as a child of the tag "'+e+'".';f.push(v)}}d=i[g]||{};if(d.restrictParentsTo.length>0){if(!d.validParentLookup[e]){v='The tag "'+e+'" is not allowed as a parent of the tag "'+g+'".';f.push(v)}}}a=a.replace(u,function(e,t,n,r,i){f=h(n,e,t,n,r,i,f);return e});return f}function p(e){e=e.replace(/\<([^\>][^\>]*?)\>/gi,function(e,t){var n=t.match(/^bbcl=([0-9]+) /);if(n===null){return"<bbcl=0 "+t+">"}else{return"<"+t.replace(/^(bbcl=)([0-9]+)/,function(e,t,n){return t+(parseInt(n,10)+1)})+">"}});return e}function d(e){return e.replace(/<bbcl=[0-9]+ \/\*>/gi,"").replace(/<bbcl=[0-9]+ /gi,"&#91;").replace(/>/gi,"&#93;")}function m(e){var t=e.text;t=t.replace(u,v);return t}function g(e){e=e.replace(/\[(?!\*[ =\]]|list([ =][^\]]*)?\]|\/list[\]])/ig,"<");e=e.replace(/\[(?=list([ =][^\]]*)?\]|\/list[\]])/ig,">");while(e!==(e=e.replace(/>list([ =][^\]]*)?\]([^>]*?)(>\/list])/gi,function(e,t,n){var r=e;while(r!==(r=r.replace(/\[\*\]([^\[]*?)(\[\*\]|>\/list])/i,function(e,t,n){if(n===">/list]"){n="</*]</list]"}else{n="</*][*]"}var r="<*]"+t+n;return r})));r=r.replace(/>/g,"<");return r})));e=e.replace(/</g,"[");return e}function y(e){while(e!==(e=e.replace(a,function(e,t,n,r){e=e.replace(/\[/g,"<");e=e.replace(/\]/g,">");return p(e)})));return e}var e={},t=/^(?:https?|file|c):(?:\/{1,3}|\\{1})[-a-zA-Z0-9:@#%&()~_?\+=\/\\\.]*$/,n=/^(?:red|green|blue|orange|yellow|black|white|brown|gray|silver|purple|maroon|fushsia|lime|olive|navy|teal|aqua)$/,r=/^#?[a-fA-F0-9]{6}$/,i,s,o=[],u,a,f,l,c;i={b:{openTag:function(e,t){return'<span class="cbb-b">'},closeTag:function(e,t){return"</span>"}},string:{openTag:function(e,t){return'<span class="string">'},closeTag:function(e,t){return"</span>"}},attr:{openTag:function(e,t){return'<span class="attribute">'},closeTag:function(e,t){return"</span>"}},booltrue:{openTag:function(e,t){return'<span class="boolean">'},closeTag:function(e,t){return"</span>"}},boolfalse:{openTag:function(e,t){return'<span class="boolean false">'},closeTag:function(e,t){return"</span>"}},bbcode:{openTag:function(e,t){return""},closeTag:function(e,t){return""}},color:{openTag:function(e,t){var i=e.substr(1)||"#FFF";r.lastIndex=0;if(!n.test(i)){if(!r.test(i)){i="black"}else{if(i.substr(0,1)!=="#"){i="#"+i}}}return'<span style="color:'+i+'">'},closeTag:function(e,t){return"</span>"}},noparse:{openTag:function(e,t){return''},closeTag:function(e,t){return""},noParse:true},i:{openTag:function(e,t){return'<span class="cbb-i">'},closeTag:function(e,t){return"</span>"}},tag:{openTag:function(e,t){return'<span class="cbb-tag">'},closeTag:function(e,t){return"</span>"}},number:{openTag:function(e,t){return'<span class="number">'},closeTag:function(e,t){return"</span>"}},img:{openTag:function(e,n){var r=n;t.lastIndex=0;if(!t.test(r)){r=""}return'<img src="'+r+'" />'},closeTag:function(e,t){return""},displayContent:false},s:{openTag:function(e,t){return'<span class="cbb-s">'},closeTag:function(e,t){return"</span>"}},size:{openTag:function(e,t){var n=parseInt(e.substr(1),10)||0;if(n<1||n>20){n=1}return'<span class="cbb-size-'+n+'">'},closeTag:function(e,t){return"</span>"}},u:{openTag:function(e,t){return'<span class="cbb-u">'},closeTag:function(e,t){return"</span>"}},url:{openTag:function(e,n){var r;if(!e){r=n.replace(/<.*?>/g,"")}else{r=e.substr(1)}t.lastIndex=0;if(!t.test(r)){r="#"}return'<a href="'+r+'">'},closeTag:function(e,t){return"</a>"}},red:{openTag:function(e,t){return'<span class="cbb-red">'},closeTag:function(e,t){return"</span>"}},blue:{openTag:function(e,t){return'<span class="cbb-blue">'},closeTag:function(e,t){return"</span>"}},green:{openTag:function(e,t){return'<span class="cbb-green">'},closeTag:function(e,t){return"</span>"}},yellow:{openTag:function(e,t){return'<span class="cbb-yellow">'},closeTag:function(e,t){return"</span>"}},orange:{openTag:function(e,t){return'<span class="cbb-orange">'},closeTag:function(e,t){return"</span>"}},white:{openTag:function(e,t){return'<span class="cbb-white">'},closeTag:function(e,t){return"</span>"}},black:{openTag:function(e,t){return'<span class="cbb-black">'},closeTag:function(e,t){return"</span>"}},brown:{openTag:function(e,t){return'<span class="cbb-brown">'},closeTag:function(e,t){return"</span>"}},pink:{openTag:function(e,t){return'<span class="cbb-pink">'},closeTag:function(e,t){return"</span>"}},lime:{openTag:function(e,t){return'<span class="cbb-lime">'},closeTag:function(e,t){return"</span>"}},"*":{openTag:function(e,t){return"<li>"},closeTag:function(e,t){return"</li>"},restrictParentsTo:["list"]}};s=[];(function(){var e,t,n;for(e in i){if(i.hasOwnProperty(e)){if(e==="*"){s.push("\\"+e)}else{s.push(e);if(i[e].noParse){o.push(e)}}i[e].validChildLookup={};i[e].validParentLookup={};i[e].restrictParentsTo=i[e].restrictParentsTo||[];i[e].restrictChildrenTo=i[e].restrictChildrenTo||[];n=i[e].restrictChildrenTo.length;for(t=0;t<n;t++){i[e].validChildLookup[i[e].restrictChildrenTo[t]]=true}n=i[e].restrictParentsTo.length;for(t=0;t<n;t++){i[e].validParentLookup[i[e].restrictParentsTo[t]]=true}}}})();u=new RegExp("<bbcl=([0-9]+) ("+s.join("|")+")([ =][^>]*?)?>((?:.|[\\r\\n])*?)<bbcl=\\1 /\\2>","gi");a=new RegExp("\\[("+s.join("|")+")([ =][^\\]]*?)?\\]([^\\[]*?)\\[/\\1\\]","gi");f=new RegExp("\\[("+o.join("|")+")([ =][^\\]]*?)?\\]([\\s\\S]*?)\\[/\\1\\]","gi");(function(){var e=[];for(var t=0;t<s.length;t++){if(s[t]!=="\\*"){e.push("/"+s[t])}}l=new RegExp("(\\[)((?:"+s.join("|")+")(?:[ =][^\\]]*?)?)(\\])","gi");c=new RegExp("(\\[)("+e.join("|")+")(\\])","gi")})();var v=function(e,t,n,r,s){n=n.toLowerCase();var o=i[n].noParse?d(s):s.replace(u,v),a=i[n].openTag(r,o),f=i[n].closeTag(r,o);if(i[n].displayContent===false){o=""}return a+o+f};e.process=function(e){var t={html:"",error:false},n=[];e.text=e.text.replace(/</g,"<");e.text=e.text.replace(/>/g,">");e.text=e.text.replace(l,function(e,t,n,r){return"<"+n+">"});e.text=e.text.replace(c,function(e,t,n,r){return"<"+n+">"});e.text=e.text.replace(/\[/g,"&#91;");e.text=e.text.replace(/\]/g,"&#93;");e.text=e.text.replace(/</g,"[");e.text=e.text.replace(/>/g,"]");while(e.text!==(e.text=e.text.replace(f,function(e,t,n,r){r=r.replace(/\[/g,"&#91;");r=r.replace(/\]/g,"&#93;");n=n||"";r=r||"";return"["+t+n+"]"+r+"[/"+t+"]"})));e.text=g(e.text);e.text=y(e.text);n=h("bbcode",e.text,-1,"","",e.text);t.html=m(e);if(t.html.indexOf("[")!==-1||t.html.indexOf("]")!==-1){n.push("Some tags appear to be misaligned.")}if(e.removeMisalignedTags){t.html=t.html.replace(/\[.*?\]/g,"")}if(e.addInLineBreaks){t.html=t.html.replace(/\r\n/g,"\n");t.html=t.html.replace(/(\r|\n)/g,"$1<br/>")}t.html=t.html.replace("&#91;","[");t.html=t.html.replace("&#93;","]");t.error=n.length===0?false:true;t.errorQueue=n;return t};return e}();
// pretty print.js
function style_html(e,t){function a(){this.pos=0;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parentcount:1,parent1:""};this.tag_type="";this.token_text=this.last_token=this.last_text=this.token_type="";this.Utils={whitespace:"\n\r     ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(e,t){for(var n=0;n<t.length;n++){if(e===t[n]){return true}}return false}};this.get_content=function(){var e="",t=[],n=false;while(this.input.charAt(this.pos)!=="<"){if(this.pos>=this.input.length){return t.length?t.join(""):["","TK_EOF"]}e=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(e,this.Utils.whitespace)){if(t.length){n=true}this.line_char_count--;continue}else if(n){if(this.line_char_count>=this.max_char){t.push("\n");for(var r=0;r<this.indent_level;r++){t.push(this.indent_string)}this.line_char_count=0}else{t.push(" ");this.line_char_count++}n=false}t.push(e)}return t.length?t.join(""):""};this.get_contents_to=function(e){if(this.pos==this.input.length){return["","TK_EOF"]}var t="";var n="";var r=new RegExp("</"+e+"\\s*>","igm");r.lastIndex=this.pos;var i=r.exec(this.input);var s=i?i.index:this.input.length;if(this.pos<s){n=this.input.substring(this.pos,s);this.pos=s}return n};this.record_tag=function(e){if(this.tags[e+"count"]){this.tags[e+"count"]++;this.tags[e+this.tags[e+"count"]]=this.indent_level}else{this.tags[e+"count"]=1;this.tags[e+this.tags[e+"count"]]=this.indent_level}this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent;this.tags.parent=e+this.tags[e+"count"]};this.retrieve_tag=function(e){if(this.tags[e+"count"]){var t=this.tags.parent;while(t){if(e+this.tags[e+"count"]===t){break}t=this.tags[t+"parent"]}if(t){this.indent_level=this.tags[e+this.tags[e+"count"]];this.tags.parent=this.tags[t+"parent"]}delete this.tags[e+this.tags[e+"count"]+"parent"];delete this.tags[e+this.tags[e+"count"]];if(this.tags[e+"count"]==1){delete this.tags[e+"count"]}else{this.tags[e+"count"]--}}};this.get_tag=function(){var e="",t=[],n=false,r,i;do{if(this.pos>=this.input.length){return t.length?t.join(""):["","TK_EOF"]}e=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(e,this.Utils.whitespace)){n=true;this.line_char_count--;continue}if(e==="'"||e==='"'){if(!t[1]||t[1]!=="!"){e+=this.get_unformatted(e);n=true}}if(e==="="){n=false}if(t.length&&t[t.length-1]!=="="&&e!==">"&&n){if(this.line_char_count>=this.max_char){this.print_newline(false,t);this.line_char_count=0}else{t.push(" ");this.line_char_count++}n=false}if(e==="<"){r=this.pos-1}t.push(e)}while(e!==">");var s=t.join("");var o;if(s.indexOf(" ")!=-1){o=s.indexOf(" ")}else{o=s.indexOf(">")}var a=s.substring(1,o).toLowerCase();if(s.charAt(s.length-2)==="/"||this.Utils.in_array(a,this.Utils.single_token)){this.tag_type="SINGLE"}else if(a==="script"){this.record_tag(a);this.tag_type="SCRIPT"}else if(a==="style"){this.record_tag(a);this.tag_type="STYLE"}else if(this.Utils.in_array(a,u)){var f=this.get_unformatted("</"+a+">",s);t.push(f);if(r>0&&this.Utils.in_array(this.input.charAt(r-1),this.Utils.whitespace)){t.splice(0,0,this.input.charAt(r-1))}i=this.pos-1;if(this.Utils.in_array(this.input.charAt(i+1),this.Utils.whitespace)){t.push(this.input.charAt(i+1))}this.tag_type="SINGLE"}else if(a.charAt(0)==="!"){if(a.indexOf("[if")!=-1){if(s.indexOf("!IE")!=-1){var f=this.get_unformatted("-->",s);t.push(f)}this.tag_type="START"}else if(a.indexOf("[endif")!=-1){this.tag_type="END";this.unindent()}else if(a.indexOf("[cdata[")!=-1){var f=this.get_unformatted("]]>",s);t.push(f);this.tag_type="SINGLE"}else{var f=this.get_unformatted("-->",s);t.push(f);this.tag_type="SINGLE"}}else{if(a.charAt(0)==="/"){this.retrieve_tag(a.substring(1));this.tag_type="END"}else{this.record_tag(a);this.tag_type="START"}if(this.Utils.in_array(a,this.Utils.extra_liners)){this.print_newline(true,this.output)}}return t.join("")};this.get_unformatted=function(e,t){if(t&&t.toLowerCase().indexOf(e)!=-1){return""}var n="";var r="";var i=true;do{if(this.pos>=this.input.length){return r}n=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(n,this.Utils.whitespace)){if(!i){this.line_char_count--;continue}if(n==="\n"||n==="\r"){r+="\n";this.line_char_count=0;continue}}r+=n;this.line_char_count++;i=true}while(r.toLowerCase().indexOf(e)==-1);return r};this.get_token=function(){var e;if(this.last_token==="TK_TAG_SCRIPT"||this.last_token==="TK_TAG_STYLE"){var t=this.last_token.substr(7);e=this.get_contents_to(t);if(typeof e!=="string"){return e}return[e,"TK_"+t]}if(this.current_mode==="CONTENT"){e=this.get_content();if(typeof e!=="string"){return e}else{return[e,"TK_CONTENT"]}}if(this.current_mode==="TAG"){e=this.get_tag();if(typeof e!=="string"){return e}else{var n="TK_TAG_"+this.tag_type;return[e,n]}}};this.get_full_indent=function(e){e=this.indent_level+e||0;if(e<1)return"";return Array(e+1).join(this.indent_string)};this.printer=function(e,t,n,r,i){this.input=e||"";this.output=[];this.indent_character=t;this.indent_string="";this.indent_size=n;this.brace_style=i;this.indent_level=0;this.max_char=r;this.line_char_count=0;for(var s=0;s<this.indent_size;s++){this.indent_string+=this.indent_character}this.print_newline=function(e,t){this.line_char_count=0;if(!t||!t.length){return}if(!e){while(this.Utils.in_array(t[t.length-1],this.Utils.whitespace)){t.pop()}}t.push("\n");for(var n=0;n<this.indent_level;n++){t.push(this.indent_string)}};this.print_token=function(e){this.output.push(e)};this.indent=function(){this.indent_level++};this.unindent=function(){if(this.indent_level>0){this.indent_level--}}};return this}var n,r,i,s,o,u;t=t||{};r=t.indent_size||1;i=t.indent_char||" ";o=t.brace_style||"collapse";s=t.max_char==0?Infinity:t.max_char||999;u=t.unformatted||[];n=new a;n.printer(e,i,r,s,o);while(true){var f=n.get_token();n.token_text=f[0];n.token_type=f[1];if(n.token_type==="TK_EOF"){break}switch(n.token_type){case"TK_TAG_START":n.print_newline(false,n.output);n.print_token(n.token_text);n.indent();n.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":n.print_newline(false,n.output);n.print_token(n.token_text);n.current_mode="CONTENT";break;case"TK_TAG_END":if(n.last_token==="TK_CONTENT"&&n.last_text===""){var l=n.token_text.match(/\w+/)[0];var c=n.output[n.output.length-1].match(/<\s*(\w+)/);if(c===null||c[1]!==l)n.print_newline(true,n.output)}n.print_token(n.token_text);n.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var h=n.token_text.match(/^\s*<([a-z]+)/i);if(!h||!n.Utils.in_array(h[1],u)){n.print_newline(false,n.output)}n.print_token(n.token_text);n.current_mode="CONTENT";break;case"TK_CONTENT":if(n.token_text!==""){n.print_token(n.token_text)}n.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(n.token_text!==""){n.output.push("\n");var p=n.token_text;if(n.token_type=="TK_SCRIPT"){var d=typeof js_beautify=="function"&&js_beautify}else if(n.token_type=="TK_STYLE"){var d=typeof css_beautify=="function"&&css_beautify}if(t.indent_scripts=="keep"){var v=0}else if(t.indent_scripts=="separate"){var v=-n.indent_level}else{var v=1}var m=n.get_full_indent(v);if(d){p=d(p.replace(/^\s*/,m),t)}else{var g=p.match(/^\s*/)[0];var y=g.match(/[^\n\r]*$/)[0].split(n.indent_string).length-1;var b=n.get_full_indent(v-y);p=p.replace(/^\s*/,m).replace(/\r\n|\r|\n/g,"\n"+b).replace(/\s*$/,"")}if(p){n.print_token(p);n.print_newline(true,n.output)}}n.current_mode="TAG";break}n.last_token=n.token_type;n.last_text=n.token_text}return n.output.join("")}; 
// @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
// @version 0.6.11
function FastClick(e){"use strict";var t,n=this;this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=10;this.layer=e;if(!e||!e.nodeType){throw new TypeError("Layer must be a document node")}this.onClick=function(){return FastClick.prototype.onClick.apply(n,arguments)};this.onMouse=function(){return FastClick.prototype.onMouse.apply(n,arguments)};this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(n,arguments)};this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(n,arguments)};this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(n,arguments)};this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(n,arguments)};if(FastClick.notNeeded(e)){return}if(this.deviceIsAndroid){e.addEventListener("mouseover",this.onMouse,true);e.addEventListener("mousedown",this.onMouse,true);e.addEventListener("mouseup",this.onMouse,true)}e.addEventListener("click",this.onClick,true);e.addEventListener("touchstart",this.onTouchStart,false);e.addEventListener("touchmove",this.onTouchMove,false);e.addEventListener("touchend",this.onTouchEnd,false);e.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;if(t==="click"){i.call(e,t,n.hijacked||n,r)}else{i.call(e,t,n,r)}};e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;if(t==="click"){i.call(e,t,n.hijacked||(n.hijacked=function(e){if(!e.propagationStopped){n(e)}}),r)}else{i.call(e,t,n,r)}}}if(typeof e.onclick==="function"){t=e.onclick;e.addEventListener("click",function(e){t(e)},false);e.onclick=null}}FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled){return true}break;case"input":if(this.deviceIsIOS&&e.type==="file"||e.disabled){return true}break;case"label":case"video":return true}return/\bneedsclick\b/.test(e.className)};FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return true;case"select":return!this.deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}};FastClick.prototype.sendClick=function(e,t){"use strict";var n,r;if(document.activeElement&&document.activeElement!==e){document.activeElement.blur()}r=t.changedTouches[0];n=document.createEvent("MouseEvents");n.initMouseEvent(this.determineEventType(e),true,true,window,1,r.screenX,r.screenY,r.clientX,r.clientY,false,false,false,false,0,null);n.forwardedTouchEvent=true;e.dispatchEvent(n)};FastClick.prototype.determineEventType=function(e){"use strict";if(this.deviceIsAndroid&&e.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};FastClick.prototype.focus=function(e){"use strict";var t};FastClick.prototype.updateScrollParent=function(e){"use strict";var t,n;t=e.fastClickScrollParent;if(!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n;e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}if(t){t.fastClickLastScrollTop=t.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(e){"use strict";if(e.nodeType===Node.TEXT_NODE){return e.parentNode}return e};FastClick.prototype.onTouchStart=function(e){"use strict";var t,n,r;if(e.targetTouches.length>1){return true}t=this.getTargetElementFromEventTarget(e.target);n=e.targetTouches[0];if(this.deviceIsIOS){r=window.getSelection();if(r.rangeCount&&!r.isCollapsed){return true}if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier){e.preventDefault();return false}this.lastTouchIdentifier=n.identifier;this.updateScrollParent(t)}}this.trackingClick=true;this.trackingClickStart=e.timeStamp;this.targetElement=t;this.touchStartX=n.pageX;this.touchStartY=n.pageY;if(e.timeStamp-this.lastClickTime<200){e.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],n=this.touchBoundary;if(Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n){return true}return false};FastClick.prototype.onTouchMove=function(e){"use strict";if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(e){"use strict";if(e.control!==undefined){return e.control}if(e.htmlFor){return document.getElementById(e.htmlFor)}return e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(e){"use strict";var t,n,r,i,s,o=this.targetElement;if(!this.trackingClick){return true}if(e.timeStamp-this.lastClickTime<200){this.cancelNextClick=true;return true}this.cancelNextClick=false;this.lastClickTime=e.timeStamp;n=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(this.deviceIsIOSWithBadTarget){s=e.changedTouches[0];o=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||o;o.fastClickScrollParent=this.targetElement.fastClickScrollParent}r=o.tagName.toLowerCase();if(r==="label"){t=this.findControl(o);if(t){this.focus(o);if(this.deviceIsAndroid){return false}o=t}}else if(this.needsFocus(o)){if(e.timeStamp-n>100||this.deviceIsIOS&&window.top!==window&&r==="input"){this.targetElement=null;return false}this.focus(o);if(!this.deviceIsIOS4||r!=="select"){this.targetElement=null;e.preventDefault()}return false}if(this.deviceIsIOS&&!this.deviceIsIOS4){i=o.fastClickScrollParent;if(i&&i.fastClickLastScrollTop!==i.scrollTop){return true}}if(!this.needsClick(o)){e.preventDefault();this.sendClick(o,e)}return false};FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(e){"use strict";if(!this.targetElement){return true}if(e.forwardedTouchEvent){return true}if(!e.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(e.stopImmediatePropagation){e.stopImmediatePropagation()}else{e.propagationStopped=true}e.stopPropagation();e.preventDefault();return false}return true};FastClick.prototype.onClick=function(e){"use strict";var t;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(e.target.type==="submit"&&e.detail===0){return true}t=this.onMouse(e);if(!t){this.targetElement=null}return t};FastClick.prototype.destroy=function(){"use strict";var e=this.layer;if(this.deviceIsAndroid){e.removeEventListener("mouseover",this.onMouse,true);e.removeEventListener("mousedown",this.onMouse,true);e.removeEventListener("mouseup",this.onMouse,true)}e.removeEventListener("click",this.onClick,true);e.removeEventListener("touchstart",this.onTouchStart,false);e.removeEventListener("touchmove",this.onTouchMove,false);e.removeEventListener("touchend",this.onTouchEnd,false);e.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(e){"use strict";var t;var n;if(typeof window.ontouchstart==="undefined"){return true}n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(n){if(FastClick.prototype.deviceIsAndroid){t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1){return true}if(n>31&&window.innerWidth<=window.screen.width){return true}}}else{return true}}if(e.style.msTouchAction==="none"){return true}return false};FastClick.attach=function(e){"use strict";return new FastClick(e)}; window.FastClick = FastClick; FastClick.attach(document.body);